<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ì…ì‹œ Q&A ì „ìš© í˜ì´ì§€</title>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      max-width: 700px;
      margin: 40px auto;
      padding: 0 16px;
      line-height: 1.5;
    }
    h1 {
      font-size: 24px;
      margin-bottom: 8px;
    }
    .card {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 20px;
      margin-bottom: 16px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.03);
    }
    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
    }
    input[type="email"] {
      width: 100%;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
      box-sizing: border-box;
      margin-bottom: 12px;
    }
    button {
      padding: 8px 14px;
      border-radius: 6px;
      border: none;
      cursor: pointer;
      font-weight: 600;
      font-size: 14px;
    }
    .btn-primary {
      background: #2563eb;
      color: white;
    }
    .btn-primary:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
    .btn-filter {
      background: #e5e7eb;
      color: #374151;
      margin-right: 8px;
      margin-bottom: 6px;
    }
    .btn-filter.active {
      background: #2563eb;
      color: white;
    }
    .error {
      color: #dc2626;
      margin-top: 8px;
      font-size: 14px;
    }
    .info {
      color: #4b5563;
      margin-top: 8px;
      font-size: 14px;
    }
    .qa-item {
      margin-bottom: 16px;
    }
    .qa-item h3 {
      margin: 0 0 4px 0;
      font-size: 17px;
    }
    .qa-item p {
      margin: 0;
    }
    .tag {
      display: inline-block;
      font-size: 12px;
      padding: 2px 8px;
      border-radius: 999px;
      border: 1px solid #e5e7eb;
      color: #6b7280;
      margin-bottom: 8px;
    }
  </style>
</head>
<body>
  <!-- ë¡œê·¸ì¸ ì¹´ë“œ -->
  <div id="login-card" class="card">
    <h1>ì…ì‹œ Q&A ì „ìš© í˜ì´ì§€</h1>
    <p class="info">
      ì¹´í˜ ë° ìë£Œë°›ì„ ì´ë©”ì¼ë¡œë§Œ ì ‘ì†í•  ìˆ˜ ìˆëŠ” í˜ì´ì§€ì…ë‹ˆë‹¤!
    </p>
    <form id="login-form">
      <label for="email">ì´ë©”ì¼ ì£¼ì†Œ</label>
      <input
        type="email"
        id="email"
        placeholder="example@email.com"
        required
      />
      <button type="submit" class="btn-primary">ì…ì¥í•˜ê¸°</button>
      <div id="login-message" class="error" style="display:none;"></div>
    </form>
  </div>

  <!-- ê¸°ê°„ ì¢…ë£Œ ì•ˆë‚´ ì¹´ë“œ -->
  <div id="expired-card" class="card" style="display:none;">
    <h1>ì ‘ì† ê¸°ê°„ì´ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤</h1>
    <p class="info">
      ì´ í˜ì´ì§€ì˜ ì—´ëŒ ê¸°ê°„ì´ ì¢…ë£Œë˜ì–´ ë” ì´ìƒ ë‚´ìš©ì„ ë³¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
    </p>
  </div>

  <!-- ì‹¤ì œ Q&A ë‚´ìš© ì¹´ë“œ -->
  <div id="content-card" class="card" style="display:none;">
    <div class="tag">ì…ì‹œ Q&A</div>
    <h1>ì…ì‹œì—ì„œ ê¼­ ì§šì–´ì•¼ í•  í•µì‹¬ ì§ˆë¬¸ë“¤</h1>
    <p class="info">
      ì•„ë˜ ë‚´ìš©ì€ ì„¤ëª…íšŒ ì°¸ê°€ì ì „ìš©ìœ¼ë¡œ ì œê³µë˜ëŠ” ì •ë¦¬ë³¸ì…ë‹ˆë‹¤.<br />
      ì œì‹œëœ ë‚´ìš©ë“¤ì„ ì¸í„°ë„·ì— ê³µìœ í•˜ì‹œë©´ ì•ˆ ë©ë‹ˆë‹¤!<br />
      í˜¹ì‹œë¼ë„ ì¸í„°ë„·ì— ì´ ë‚´ìš©ì´ ê³µìœ ë˜ëŠ” ì¥ë©´ì´ ë°œê²¬ë  ê²½ìš°
      ì´ í™ˆí˜ì´ì§€ëŠ” ë” ì´ìƒ ìš´ì˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤!!
    </p>

    <hr style="margin:16px 0;" />

    <!-- Q&A ì˜ˆì‹œ -->
    <div class="qa-item">
      <h3>Q. ì…ì‹œì—ì„œ ì¤‘ìš”í•˜ê²Œ ë³´ì•„ì•¼ í•  ê²ƒì€ ë¬´ì—‡ì¸ê°€?</h3>
      <p>A. ê° ì „í˜•ì˜ <strong>êµ¬ì¡°ì™€ ë³€í™”</strong>ë¥¼ ì •í™•íˆ íŒŒì•…í•˜ëŠ” ê²ƒì´ ê°€ì¥ ì¤‘ìš”í•©ë‹ˆë‹¤.
      ë™ì¼í•œ ì„±ì ì´ë¼ë„, ì „í˜•ì— ë”°ë¼ í•©ê²© ê°€ëŠ¥ì„±ì´ í¬ê²Œ ë‹¬ë¼ì§€ê¸° ë•Œë¬¸ì—
      ë³¸ì¸ì˜ ê°•ì (ë‚´ì‹ , ìˆ˜ëŠ¥, ë¹„êµê³¼, ìˆ˜ìƒ ë“±)ì— ë§ëŠ” ì „í˜• ì¡°í•©ì„ ë¨¼ì € ì„¤ê³„í•´ì•¼ í•©ë‹ˆë‹¤.</p>
    </div>

    <hr style="margin:24px 0;" />

    <!-- âœ… ëŒ€í•™ í•„í„° ì„¹ì…˜ -->
    <section id="univ-search-section">
      <h2>ëŒ€í•™ ì í•‘ ê³„ì—´ë³„ ë³´ê¸°</h2>
      <p class="info">
        ìƒìœ„ ê³„ì—´(ë©”ë””ì»¬ / ì¼ë°˜ í•™ê³¼ / êµëŒ€)ì„ ì„ íƒí•˜ê³ ,<br />
        í•„ìš”í•˜ë©´ êµ°(ê°€/ë‚˜/ë‹¤)ê³¼ ì„¸ë¶€ ê³„ì—´ê¹Œì§€ ì„ íƒí•´ ë³´ì„¸ìš”.
      </p>

      <!-- ìƒìœ„ ê³„ì—´ í•„í„° -->
      <div id="univ-filter-group" style="margin-bottom: 8px;">
        <button type="button" class="btn-filter active" data-group="all">ì „ì²´</button>
        <button type="button" class="btn-filter" data-group="general">ì¼ë°˜ í•™ê³¼</button>
        <button type="button" class="btn-filter" data-group="medical">ë©”ë””ì»¬</button>
        <button type="button" class="btn-filter" data-group="teacher">êµëŒ€ ê³„ì—´</button>
      </div>

      <!-- êµ° í•„í„° -->
      <div id="gun-filters" style="margin-bottom: 8px;">
        <p class="info" style="margin-top:4px; margin-bottom:4px;">â€» ëª¨ì§‘ êµ° ì„ íƒ</p>
        <button type="button" class="btn-filter active" data-gun="all">ì „ì²´</button>
        <button type="button" class="btn-filter" data-gun="ê°€êµ°">ê°€êµ°</button>
        <button type="button" class="btn-filter" data-gun="ë‚˜êµ°">ë‚˜êµ°</button>
        <button type="button" class="btn-filter" data-gun="ë‹¤êµ°">ë‹¤êµ°</button>
      </div>

      <!-- ì¼ë°˜ í•™ê³¼ ì„¸ë¶€ í•„í„° -->
      <div id="general-subfilters" style="margin-bottom: 8px; display:none;">
        <p class="info" style="margin-top:4px; margin-bottom:4px;">â€» ì¼ë°˜ í•™ê³¼ ê³„ì—´ ì„ íƒ</p>
        <button type="button" class="btn-filter active" data-general="all">ì „ì²´</button>
        <button type="button" class="btn-filter" data-general="ë¬¸ê³¼">ë¬¸ê³¼</button>
        <button type="button" class="btn-filter" data-general="ì´ê³¼">ì´ê³¼</button>
        <button type="button" class="btn-filter" data-general="í†µí•©">í†µí•©</button>
      </div>

      <!-- ë©”ë””ì»¬ ì„¸ë¶€ í•„í„° -->
      <div id="medical-subfilters" style="margin-bottom: 12px; display:none;">
        <p class="info" style="margin-top:4px; margin-bottom:4px;">â€» ë©”ë””ì»¬ ì„¸ë¶€ë¶„ë¥˜ ì„ íƒ</p>
        <button type="button" class="btn-filter active" data-med="all">ë©”ë””ì»¬ ì „ì²´</button>
        <button type="button" class="btn-filter" data-med="ì˜ëŒ€">ì˜ëŒ€</button>
        <button type="button" class="btn-filter" data-med="ì¹˜ëŒ€">ì¹˜ëŒ€</button>
        <button type="button" class="btn-filter" data-med="í•œì˜ëŒ€">í•œì˜ëŒ€</button>
        <button type="button" class="btn-filter" data-med="ìˆ˜ì˜ëŒ€">ìˆ˜ì˜ëŒ€</button>
        <button type="button" class="btn-filter" data-med="ì•½ëŒ€">ì•½ëŒ€</button>
      </div>

      <div id="univ-results"></div>
    </section>
  </div>

  <script>
    // 1) ë„¤ê°€ ì¤€ UNIVERSITY_DATA ê·¸ëŒ€ë¡œ ë„£ìŒ
    const UNIVERSITY_DATA = [
      {
        name: "ê³ ë ¤ëŒ€",
        category: "ì¼ë°˜",
        medDetail: "",
        track: "ë¬¸ê³¼",
        gun: "ê°€êµ°",
        number: "2.1"
      },
      {
        name: "ê³ ë ¤ëŒ€ (êµê³¼)",
        category: "ì¼ë°˜",
        medDetail: "",
        track: "ë¬¸ê³¼",
        gun: "ê°€êµ°",
        number: "2.4"
      },
      {
        name: "ì‹œë¦½ëŒ€",
        category: "ì¼ë°˜",
        medDetail: "",
        track: "ë¬¸ê³¼",
        gun: "ê°€êµ°",
        number: "1.4"
      },

      {
        name: "ì—°ì„¸ ì˜ì˜ˆ",
        category: "ë©”ë””ì»¬",
        medDetail: "ì˜ëŒ€",
        track: "",
        gun: "ê°€êµ°",
        number: "1.5"
      },
      {
        name: "ì—°ì„¸ ì¹˜ì˜ì˜ˆ",
        category: "ë©”ë””ì»¬",
        medDetail: "ì¹˜ëŒ€",
        track: "",
        gun: "ê°€êµ°",
        number: "1.5"
      },
      {
        name: "ê³ ë ¤ ì˜",
        category: "ë©”ë””ì»¬",
        medDetail: "ì˜ëŒ€",
        track: "",
        gun: "ê°€êµ°",
        number: "1.7"
      },
      {
        name: "ì—°ì„¸ ì•½",
        category: "ë©”ë””ì»¬",
        medDetail: "ì•½ëŒ€",
        track: "",
        gun: "ê°€êµ°",
        number: "2"
      },
      {
        name: "ê±´êµ­ ìˆ˜",
        category: "ë©”ë””ì»¬",
        medDetail: "ìˆ˜ì˜ëŒ€",
        track: "",
        gun: "ê°€êµ°",
        number: "1.4"
      },

      {
        name: "ê³ ",
        category: "ì¼ë°˜",
        medDetail: "",
        track: "ì´ê³¼",
        gun: "ê°€êµ°",
        number: "2"
      },
      {
        name: "ê³ (êµê³¼)",
        category: "ì¼ë°˜",
        medDetail: "",
        track: "ì´ê³¼",
        gun: "ê°€êµ°",
        number: "1.9"
      },
      {
        name: "ì—°ê³ ëŒ€í˜•ê³¼(50ëª…ì´ìƒ)",
        category: "ì¼ë°˜",
        medDetail: "",
        track: "ì´ê³¼",
        gun: "ê°€êµ°",
        number: "2.2"
      },
      {
        name: "ì´",
        category: "ì¼ë°˜",
        medDetail: "",
        track: "ì´ê³¼",
        gun: "ê°€êµ°",
        number: "1.9"
      },
      {
        name: "ì‹œ",
        category: "ì¼ë°˜",
        medDetail: "",
        track: "ì´ê³¼",
        gun: "ê°€êµ°",
        number: "1.5"
      },
      {
        name: "ê±´ëŒ€í˜•ê³¼(50ëª… ì´ìƒ-ìì „,ì „ê¸°)",
        category: "ì¼ë°˜",
        medDetail: "",
        track: "ì´ê³¼",
        gun: "ê°€êµ°",
        number: "1.7"
      },

      {
        name: "ê±´(ë¬¸ì´)",
        category: "ì¼ë°˜",
        medDetail: "",
        track: "í†µí•©",
        gun: "ê°€êµ°",
        number: "1.6"
      },
      {
        name: "ì—°(ë¬¸ì´)",
        category: "ì¼ë°˜",
        medDetail: "",
        track: "í†µí•©",
        gun: "ê°€êµ°",
        number: "2.3"
      }
    ];

    // 2) í—ˆìš© ì´ë©”ì¼ ëª©ë¡ (ì‹¤ì œ ì´ë©”ì¼ ë„£ê¸°)
    const ALLOWED_EMAILS = [
      // "aaa@naver.com",
      // "bbb@gmail.com",
    ].map(e => e.toLowerCase().trim());

    const END_DATE = new Date("2025-12-30T23:59:59+09:00");

    const loginForm     = document.getElementById("login-form");
    const loginMessage  = document.getElementById("login-message");
    const loginCard     = document.getElementById("login-card");
    const contentCard   = document.getElementById("content-card");
    const expiredCard   = document.getElementById("expired-card");

    const univResults       = document.getElementById("univ-results");
    const groupButtons      = document.querySelectorAll("[data-group]");
    const gunButtons        = document.querySelectorAll("[data-gun]");
    const medButtons        = document.querySelectorAll("[data-med]");
    const generalButtons    = document.querySelectorAll("[data-general]");
    const medicalSubfilters = document.getElementById("medical-subfilters");
    const generalSubfilters = document.getElementById("general-subfilters");

    let currentGroup        = "all";
    let currentGun          = "all";
    let currentMedSub       = "all";
    let currentGeneralTrack = "all";

    function checkExpired() {
      const now = new Date();
      if (now > END_DATE) {
        loginCard.style.display = "none";
        expiredCard.style.display = "block";
        contentCard.style.display = "none";
        return true;
      }
      return false;
    }
    checkExpired();

    if (loginForm) {
      loginForm.addEventListener("submit", function (e) {
        e.preventDefault();

        if (checkExpired()) return;

        const emailInput = document.getElementById("email");
        const email = emailInput.value.toLowerCase().trim();

        if (!email) {
          loginMessage.textContent = "ì´ë©”ì¼ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.";
          loginMessage.style.display = "block";
          return;
        }

        const allowed = ALLOWED_EMAILS.includes(email);

        if (!allowed) {
          loginMessage.textContent = "ì ‘ê·¼ ê¶Œí•œì´ ì—†ëŠ” ì´ë©”ì¼ì…ë‹ˆë‹¤.";
          loginMessage.style.display = "block";
          return;
        }

        loginMessage.style.display = "none";
        loginCard.style.display = "none";
        contentCard.style.display = "block";

        currentGroup        = "all";
        currentGun          = "all";
        currentMedSub       = "all";
        currentGeneralTrack = "all";
        medicalSubfilters.style.display = "none";
        generalSubfilters.style.display = "none";

        renderUnivResults(UNIVERSITY_DATA);
      });
    }

    function filterUniversities() {
      return UNIVERSITY_DATA.filter(univ => {
        const category = univ.category || "";
        const gun      = univ.gun || "";
        const med      = univ.medDetail || "";
        const track    = univ.track || "";

        if (currentGroup === "medical" && category !== "ë©”ë””ì»¬") return false;
        if (currentGroup === "general" && category !== "ì¼ë°˜")   return false;
        if (currentGroup === "teacher" && category !== "êµëŒ€")   return false;

        if (currentGun !== "all" && gun !== currentGun) return false;

        if (currentGroup === "medical") {
          if (currentMedSub !== "all" && med !== currentMedSub) return false;
        }

        if (currentGroup === "general") {
          if (currentGeneralTrack !== "all" && track !== currentGeneralTrack) return false;
        }

        return true;
      });
    }

    // ğŸ‘‰ ì´ë¦„ + ì í•‘ ìˆ˜ì¹˜ë§Œ í‘œì‹œ
    function renderUnivResults(items) {
      if (!univResults) return;
      univResults.innerHTML = "";

      if (!items.length) {
        univResults.innerHTML = "<p class='info'>í•´ë‹¹ ì¡°ê±´ì— ë§ëŠ” ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>";
        return;
      }

      const wrapper = document.createElement("div");

      items.forEach(univ => {
        const div = document.createElement("div");
        div.className = "qa-item";

        div.innerHTML = `
          <h3>${univ.name}</h3>
          <p><strong>ì í•‘ ìˆ˜ì¹˜:</strong> ${univ.number}</p>
        `;

        wrapper.appendChild(div);
      });

      univResults.appendChild(wrapper);
    }

    function applyFilter() {
      const results = filterUniversities();
      renderUnivResults(results);
    }

    groupButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        currentGroup = btn.dataset.group;

        groupButtons.forEach(b => b.classList.remove("active"));
        btn.classList.add("active");

        if (currentGroup === "medical") {
          medicalSubfilters.style.display = "block";
          generalSubfilters.style.display = "none";
          currentMedSub = "all";
          medButtons.forEach(b => {
            b.classList.remove("active");
            if (b.dataset.med === "all") b.classList.add("active");
          });
        } else if (currentGroup === "general") {
          generalSubfilters.style.display = "block";
          medicalSubfilters.style.display = "none";
          currentGeneralTrack = "all";
          generalButtons.forEach(b => {
            b.classList.remove("active");
            if (b.dataset.general === "all") b.classList.add("active");
          });
        } else {
          medicalSubfilters.style.display = "none";
          generalSubfilters.style.display = "none";
        }

        applyFilter();
      });
    });

    gunButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        currentGun = btn.dataset.gun;

        gunButtons.forEach(b => b.classList.remove("active"));
        btn.classList.add("active");

        applyFilter();
      });
    });

    medButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        currentMedSub = btn.dataset.med;

        medButtons.forEach(b => b.classList.remove("active"));
        btn.classList.add("active");

        applyFilter();
      });
    });

    generalButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        currentGeneralTrack = btn.dataset.general;

        generalButtons.forEach(b => b.classList.remove("active"));
        btn.classList.add("active");

        applyFilter();
      });
    });

    // ê°œë°œ í…ŒìŠ¤íŠ¸ìš©ìœ¼ë¡œ, ë¡œê·¸ì¸ ì—†ì´ ë°”ë¡œ ë³´ê³  ì‹¶ìœ¼ë©´ ì´ ë‘ ì¤„ ì ê¹ í’€ì–´ë„ ë¨
    // contentCard.style.display = "block";
    // renderUnivResults(UNIVERSITY_DATA);
  </script>
</body>
</html>
